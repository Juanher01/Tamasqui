<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productos</title>
    <link rel="stylesheet" href="/Css/productos.css">
    <link rel="stylesheet" href="/Css/Navbar.css">
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/Javascript/Navbar.js"></script>
    <script src="/Javascript/Footer.js"></script>
    <script src="/Javascript/productos.js"></script>
</head>
<body x-data="data()" x-init="fecthCart()">
    <div class="menu container">
        <a href="inicio.html" class="logo"><i class="bi bi-cup-hot-fill"></i></a>
        <input type="checkbox" id="menu" />
        <label for="menu">
            <img src="/Imagenes/depositphotos_232818520-stock-illustration-hamburger-menu-web-icon-white-removebg-preview.png" class="menu-icono" alt="">
        </label>
        <nav class="navbar ">
            <ul>
                <li><a href="inicio.html">Inicio</a></li>
                <li><a href="nosotros.html">Nosotros</a></li>
                <li><a href="productos.html">Productos</a></li>
                <li><a href="login.html">Log in</a></li>
            </ul>
        </nav>
        <ul :class="[showCart === true ? 'submenu-activo' : 'submenu']">
            <li>
                <img id="img-carrito" src="/Imagenes/imagen_2024-03-28_215105097-removebg-preview.png" alt="car">
                <div id="carrito">
                    <table id="lista-carrito">
                        <thead>
                            <tr>
                                <th>Producto</th>
                                <th>Nombre</th>
                                <th>Precio</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <template x-for="cart in cartItems" :key="cart.id">
                                <tr>
                                    <td><img :src="cart.item.image" width="100" height="150" alt="Producto"></td>
                                    <td x-text="cart.item.name"></td>
                                    <td x-text="cart.item.price"></td>
                                    <td><a href="#" @click.prevent="removeFromCart(cart.id)" class="borrar" :data-id="cart.id">X</a></td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                    <a href="#" @click.prevent="emptyCart()" class="btn-3">Vaciar carrito</a>
                    <a href="#" @click.prevent="checkout(cartItems)" class="btn-3">Pagar</a>
                </div>
            </li>
        </ul>
    </div>
    <br><br><br><br>
    <main class="products container">
        <h2>Productos</h2>
        <a href="#" @click.prevent="logout" class="btn-3">Logout</a>
        <div class="box-container" id="lista-1">
            <template x-for="producto in productos" :key="producto.id">
                <div class="box">
                    <img :src="producto.image" :alt="'Producto-' + producto.id">
                    <div class="product-txt">
                        <h3 x-text="producto.name"></h3>
                        <p x-text="producto.description"></p>
                        <p class="precio" x-text="producto.price"></p>
                        <a href="#" @click.prevent="addToCart(producto.id)" class="agregar-carrito btn-3" :data-id="producto.id">Agregar al carrito</a>
                    </div>
                </div>
            </template>
        </div>
        <div x-intersect="fetchItems">Cargar m√°s</div>
    </main>
    <footer class="footer">
        <div class="footerContainer"></div>
    </footer>
 
</body>
</html>
